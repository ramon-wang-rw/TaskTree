{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wangr\\\\OneDrive\\\\Documents\\\\GitHub\\\\TaskTree\\\\frontend\\\\src\\\\components\\\\loginPage.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Grid, CircularProgress, Typography, Button, Tabs, Tab, TextField, Fade } from \"@material-ui/core\"; // styles\n\nimport useStyles from \"./styles\"; // context\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar UserStateContext = /*#__PURE__*/React.createContext();\nvar UserDispatchContext = /*#__PURE__*/React.createContext();\n\nfunction userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN_SUCCESS\":\n      return { ...state,\n        isAuthenticated: true\n      };\n\n    case \"SIGN_OUT_SUCCESS\":\n      return { ...state,\n        isAuthenticated: false\n      };\n\n    default:\n      {\n        throw new Error(`Unhandled action type: ${action.type}`);\n      }\n  }\n}\n\nfunction UserProvider({\n  children\n}) {\n  _s();\n\n  var [state, dispatch] = React.useReducer(userReducer, {\n    isAuthenticated: !!localStorage.getItem(\"id_token\")\n  });\n  return /*#__PURE__*/_jsxDEV(UserStateContext.Provider, {\n    value: state,\n    children: /*#__PURE__*/_jsxDEV(UserDispatchContext.Provider, {\n      value: dispatch,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserProvider, \"dKcd6yd1OVTJShCCPRJfl7VJW7Q=\");\n\n_c = UserProvider;\n\nfunction useUserState() {\n  _s2();\n\n  var context = React.useContext(UserStateContext);\n\n  if (context === undefined) {\n    throw new Error(\"useUserState must be used within a UserProvider\");\n  }\n\n  return context;\n}\n\n_s2(useUserState, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nfunction useUserDispatch() {\n  _s3();\n\n  var context = React.useContext(UserDispatchContext);\n\n  if (context === undefined) {}\n\n  return context;\n}\n\n_s3(useUserDispatch, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { UserProvider, useUserState, useUserDispatch, loginUser, signOut }; // ###########################################################\n\nfunction loginUser(dispatch, login, password, history, setIsLoading, setError) {\n  setError(false);\n  setIsLoading(true);\n\n  if (!!login && !!password) {\n    setTimeout(() => {\n      localStorage.setItem(\"id_token\", 1);\n      setError(null);\n      setIsLoading(false); //dispatch({ type: 'LOGIN_SUCCESS' })\n\n      history.push('/Dashboardform');\n      history.push(\"/DashboardList\");\n    }, 2000);\n  } else {\n    dispatch({\n      type: \"LOGIN_FAILURE\"\n    });\n    setError(true);\n    setIsLoading(false);\n  }\n}\n\nfunction signOut(dispatch, history) {\n  localStorage.removeItem(\"id_token\");\n  dispatch({\n    type: \"SIGN_OUT_SUCCESS\"\n  });\n  history.push(\"/login\"); // or just /??\n}\n\nfunction Login(props) {\n  _s4();\n\n  var classes = useStyles(); // global\n\n  var userDispatch = useUserDispatch(); // local\n\n  var [isLoading, setIsLoading] = useState(false);\n  var [error, setError] = useState(null);\n  var [activeTabId, setActiveTabId] = useState(0);\n  var [nameValue, setNameValue] = useState(\"\");\n  var [loginValue, setLoginValue] = useState(\"username@gmail.com\");\n  var [passwordValue, setPasswordValue] = useState(\"password\");\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    className: classes.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.logotypeContainer,\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        className: classes.logotypeText,\n        children: \"TaskTree\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.formContainer,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form,\n        children: [/*#__PURE__*/_jsxDEV(Tabs, {\n          value: activeTabId,\n          onChange: (e, id) => setActiveTabId(id),\n          indicatorColor: \"primary\",\n          textColor: \"primary\",\n          centered: true,\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Login\",\n            classes: {\n              root: classes.tab\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"New User\",\n            classes: {\n              root: classes.tab\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), activeTabId === 0 && /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            className: classes.greeting,\n            children: \"Welcome Back!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classes.greeting,\n            children: \"Enter your email and password to log back in!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Fade, {\n            in: error,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"secondary\",\n              className: classes.errorMessage,\n              children: \"Something is wrong with your login or password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"email\",\n            InputProps: {\n              classes: {\n                underline: classes.textFieldUnderline,\n                input: classes.textField\n              }\n            },\n            value: loginValue,\n            onChange: e => setLoginValue(e.target.value),\n            margin: \"normal\",\n            placeholder: \"Email Address\",\n            type: \"email\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"password\",\n            InputProps: {\n              classes: {\n                underline: classes.textFieldUnderline,\n                input: classes.textField\n              }\n            },\n            value: passwordValue,\n            onChange: e => setPasswordValue(e.target.value),\n            margin: \"normal\",\n            placeholder: \"Password\",\n            type: \"password\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.formButtons,\n            children: [isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 26,\n              className: classes.loginLoader\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              disabled: loginValue.length === 0 || passwordValue.length === 0,\n              onClick: () => loginUser(userDispatch, loginValue, passwordValue, props.history, setIsLoading, setError),\n              variant: \"contained\",\n              color: \"primary\",\n              size: \"large\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              size: \"large\",\n              className: classes.forgetButton,\n              children: \"Forgot Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), activeTabId === 1 && /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h1\",\n            className: classes.greeting,\n            children: \"Welcome!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            className: classes.subGreeting,\n            children: \"Create your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Fade, {\n            in: error,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"secondary\",\n              className: classes.errorMessage,\n              children: \"Something is wrong with your login or password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"name\",\n            InputProps: {\n              classes: {\n                underline: classes.textFieldUnderline,\n                input: classes.textField\n              }\n            },\n            value: nameValue,\n            onChange: e => setNameValue(e.target.value),\n            margin: \"normal\",\n            placeholder: \"Full Name\",\n            type: \"text\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"email\",\n            InputProps: {\n              classes: {\n                underline: classes.textFieldUnderline,\n                input: classes.textField\n              }\n            },\n            value: loginValue,\n            onChange: e => setLoginValue(e.target.value),\n            margin: \"normal\",\n            placeholder: \"Email Address\",\n            type: \"email\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            id: \"password\",\n            InputProps: {\n              classes: {\n                underline: classes.textFieldUnderline,\n                input: classes.textField\n              }\n            },\n            value: passwordValue,\n            onChange: e => setPasswordValue(e.target.value),\n            margin: \"normal\",\n            placeholder: \"Password\",\n            type: \"password\",\n            fullWidth: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.creatingButtonContainer,\n            children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 26\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => loginUser(userDispatch, loginValue, passwordValue, props.history, setIsLoading, setError),\n              disabled: loginValue.length === 0 || passwordValue.length === 0 || nameValue.length === 0,\n              size: \"large\",\n              variant: \"contained\",\n              color: \"primary\",\n              fullWidth: true,\n              className: classes.createAccountButton,\n              children: \"Create your account\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      align: \"middle\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n\n_s4(Login, \"/UWNaca8HDvPB8RXnYkbad1auCg=\", false, function () {\n  return [useStyles, useUserDispatch];\n});\n\n_c2 = Login;\nexport default Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UserProvider\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"sources":["C:/Users/wangr/OneDrive/Documents/GitHub/TaskTree/frontend/src/components/loginPage.js"],"names":["React","useState","Grid","CircularProgress","Typography","Button","Tabs","Tab","TextField","Fade","useStyles","UserStateContext","createContext","UserDispatchContext","userReducer","state","action","type","isAuthenticated","Error","UserProvider","children","dispatch","useReducer","localStorage","getItem","useUserState","context","useContext","undefined","useUserDispatch","loginUser","signOut","login","password","history","setIsLoading","setError","setTimeout","setItem","push","removeItem","Login","props","classes","userDispatch","isLoading","error","activeTabId","setActiveTabId","nameValue","setNameValue","loginValue","setLoginValue","passwordValue","setPasswordValue","container","logotypeContainer","logotypeText","formContainer","form","e","id","root","tab","greeting","errorMessage","underline","textFieldUnderline","input","textField","target","value","formButtons","loginLoader","length","forgetButton","subGreeting","creatingButtonContainer","createAccountButton"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  CircularProgress,\r\n  Typography,\r\n  Button,\r\n  Tabs,\r\n  Tab,\r\n  TextField,\r\n  Fade,\r\n} from \"@material-ui/core\";\r\n// styles\r\n\r\nimport useStyles from \"./styles\";\r\n\r\n// context\r\nvar UserStateContext = React.createContext();\r\nvar UserDispatchContext = React.createContext();\r\n\r\nfunction userReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"LOGIN_SUCCESS\":\r\n      return { ...state, isAuthenticated: true };\r\n    case \"SIGN_OUT_SUCCESS\":\r\n      return { ...state, isAuthenticated: false };\r\n    default: {\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n  }\r\n}\r\n\r\nfunction UserProvider({ children }) {\r\n  var [state, dispatch] = React.useReducer(userReducer, {\r\n    isAuthenticated: !!localStorage.getItem(\"id_token\"),\r\n  });\r\n\r\n  return (\r\n    <UserStateContext.Provider value={state}>\r\n      <UserDispatchContext.Provider value={dispatch}>\r\n        {children}\r\n      </UserDispatchContext.Provider>\r\n    </UserStateContext.Provider>\r\n  );\r\n}\r\n\r\nfunction useUserState() {\r\n  var context = React.useContext(UserStateContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useUserState must be used within a UserProvider\");\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction useUserDispatch() {\r\n  var context = React.useContext(UserDispatchContext);\r\n  if (context === undefined) {\r\n  }\r\n  return context;\r\n}\r\n\r\nexport { UserProvider, useUserState, useUserDispatch, loginUser, signOut };\r\n\r\n// ###########################################################\r\n\r\nfunction loginUser(dispatch, login, password, history, setIsLoading, setError) {\r\n  setError(false);\r\n  setIsLoading(true);\r\n\r\n  if (!!login && !!password) {\r\n    setTimeout(() => {\r\n      localStorage.setItem(\"id_token\", 1);\r\n      setError(null);\r\n      setIsLoading(false);\r\n      //dispatch({ type: 'LOGIN_SUCCESS' })\r\n\r\n\r\n      history.push('/Dashboardform')\r\n\r\n      history.push(\"/DashboardList\");\r\n\r\n    }, 2000);\r\n  } else {\r\n    dispatch({ type: \"LOGIN_FAILURE\" });\r\n    setError(true);\r\n    setIsLoading(false);\r\n  }\r\n}\r\n\r\nfunction signOut(dispatch, history) {\r\n  localStorage.removeItem(\"id_token\");\r\n  dispatch({ type: \"SIGN_OUT_SUCCESS\" });\r\n  history.push(\"/login\"); // or just /??\r\n}\r\n\r\nfunction Login(props) {\r\n  var classes = useStyles();\r\n\r\n  // global\r\n  var userDispatch = useUserDispatch();\r\n\r\n  // local\r\n  var [isLoading, setIsLoading] = useState(false);\r\n  var [error, setError] = useState(null);\r\n  var [activeTabId, setActiveTabId] = useState(0);\r\n  var [nameValue, setNameValue] = useState(\"\");\r\n  var [loginValue, setLoginValue] = useState(\"username@gmail.com\");\r\n  var [passwordValue, setPasswordValue] = useState(\"password\");\r\n\r\n  return (\r\n    <Grid container className={classes.container}>\r\n      <div className={classes.logotypeContainer}>\r\n        <Typography className={classes.logotypeText}>TaskTree</Typography>\r\n      </div>\r\n      <div className={classes.formContainer}>\r\n        <div className={classes.form}>\r\n          <Tabs\r\n            value={activeTabId}\r\n            onChange={(e, id) => setActiveTabId(id)}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            centered\r\n          >\r\n            <Tab label=\"Login\" classes={{ root: classes.tab }} />\r\n            <Tab label=\"New User\" classes={{ root: classes.tab }} />\r\n          </Tabs>\r\n          {activeTabId === 0 && (\r\n            <React.Fragment>\r\n              <Typography variant=\"h1\" className={classes.greeting}>\r\n                Welcome Back!\r\n              </Typography>\r\n              <Typography variant=\"h5\" className={classes.greeting}>\r\n                Enter your email and password to log back in!\r\n              </Typography>\r\n\r\n              <Fade in={error}>\r\n                <Typography color=\"secondary\" className={classes.errorMessage}>\r\n                  Something is wrong with your login or password\r\n                </Typography>\r\n              </Fade>\r\n              <TextField\r\n                id=\"email\"\r\n                InputProps={{\r\n                  classes: {\r\n                    underline: classes.textFieldUnderline,\r\n                    input: classes.textField,\r\n                  },\r\n                }}\r\n                value={loginValue}\r\n                onChange={(e) => setLoginValue(e.target.value)}\r\n                margin=\"normal\"\r\n                placeholder=\"Email Address\"\r\n                type=\"email\"\r\n                fullWidth\r\n              />\r\n              <TextField\r\n                id=\"password\"\r\n                InputProps={{\r\n                  classes: {\r\n                    underline: classes.textFieldUnderline,\r\n                    input: classes.textField,\r\n                  },\r\n                }}\r\n                value={passwordValue}\r\n                onChange={(e) => setPasswordValue(e.target.value)}\r\n                margin=\"normal\"\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                fullWidth\r\n              />\r\n              <div className={classes.formButtons}>\r\n                {isLoading ? (\r\n                  <CircularProgress size={26} className={classes.loginLoader} />\r\n                ) : (\r\n                  <Button\r\n                    disabled={\r\n                      loginValue.length === 0 || passwordValue.length === 0\r\n                    }\r\n                    onClick={() =>\r\n                      loginUser(\r\n                        userDispatch,\r\n                        loginValue,\r\n                        passwordValue,\r\n                        props.history,\r\n                        setIsLoading,\r\n                        setError\r\n                      )\r\n                    }\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                  >\r\n                    Login\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  color=\"primary\"\r\n                  size=\"large\"\r\n                  className={classes.forgetButton}\r\n                >\r\n                  Forgot Password\r\n                </Button>\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n          {activeTabId === 1 && (\r\n            <React.Fragment>\r\n              <Typography variant=\"h1\" className={classes.greeting}>\r\n                Welcome!\r\n              </Typography>\r\n              <Typography variant=\"h5\" className={classes.subGreeting}>\r\n                Create your account\r\n              </Typography>\r\n              <Fade in={error}>\r\n                <Typography color=\"secondary\" className={classes.errorMessage}>\r\n                  Something is wrong with your login or password\r\n                </Typography>\r\n              </Fade>\r\n              <TextField\r\n                id=\"name\"\r\n                InputProps={{\r\n                  classes: {\r\n                    underline: classes.textFieldUnderline,\r\n                    input: classes.textField,\r\n                  },\r\n                }}\r\n                value={nameValue}\r\n                onChange={(e) => setNameValue(e.target.value)}\r\n                margin=\"normal\"\r\n                placeholder=\"Full Name\"\r\n                type=\"text\"\r\n                fullWidth\r\n              />\r\n              <TextField\r\n                id=\"email\"\r\n                InputProps={{\r\n                  classes: {\r\n                    underline: classes.textFieldUnderline,\r\n                    input: classes.textField,\r\n                  },\r\n                }}\r\n                value={loginValue}\r\n                onChange={(e) => setLoginValue(e.target.value)}\r\n                margin=\"normal\"\r\n                placeholder=\"Email Address\"\r\n                type=\"email\"\r\n                fullWidth\r\n              />\r\n              <TextField\r\n                id=\"password\"\r\n                InputProps={{\r\n                  classes: {\r\n                    underline: classes.textFieldUnderline,\r\n                    input: classes.textField,\r\n                  },\r\n                }}\r\n                value={passwordValue}\r\n                onChange={(e) => setPasswordValue(e.target.value)}\r\n                margin=\"normal\"\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                fullWidth\r\n              />\r\n              <div className={classes.creatingButtonContainer}>\r\n                {isLoading ? (\r\n                  <CircularProgress size={26} />\r\n                ) : (\r\n                  <Button\r\n                    onClick={() =>\r\n                      loginUser(\r\n                        userDispatch,\r\n                        loginValue,\r\n                        passwordValue,\r\n                        props.history,\r\n                        setIsLoading,\r\n                        setError\r\n                      )\r\n                    }\r\n                    disabled={\r\n                      loginValue.length === 0 ||\r\n                      passwordValue.length === 0 ||\r\n                      nameValue.length === 0\r\n                    }\r\n                    size=\"large\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    fullWidth\r\n                    className={classes.createAccountButton}\r\n                  >\r\n                    Create your account\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div align=\"middle\" />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}